{"ast":null,"code":"import { GET_EVENTS, DELETE_EVENT, ADD_EVENT, EVENTS_LOADING, EDIT_EVENT } from './types';\nimport axios from 'axios';\nimport { tokenConfig } from './authActions';\nimport { returnErrors } from './errorActions';\nexport const getEvents = () => dispatch => {\n  dispatch(setEventsLoaoding());\n  axios.get('/api/events').then(res => dispatch({\n    type: GET_EVENTS,\n    payload: res.data\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const getEvent = id => dispatch => {\n  dispatch(setEventsLoaoding());\n  axios.get(`/api/events/update/${id}`).then(res => dispatch({\n    type: GET_EVENTS,\n    payload: res.id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const getEventForHost = id => dispatch => {\n  dispatch(setEventsLoaoding());\n  axios.get(`/api/events/${id}`).then(res => dispatch({\n    type: GET_EVENTS,\n    payload: res.id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const addEvent = a => dispatch => {\n  console.log(a);\n  axios.post('/api/events', a).then(res => dispatch({\n    type: ADD_EVENT,\n    payload: res.data\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status))); // window.location = '/host';\n};\nexport const editEvent = ({\n  sector,\n  governorate,\n  maison_dhote,\n  num,\n  email,\n  website,\n  image\n}, id) => dispatch => {\n  const body = {\n    maison_dhote,\n    sector,\n    num,\n    email,\n    website,\n    governorate,\n    image\n  };\n  axios.put(`/api/events/update/${id}`, body).then(res => dispatch({\n    type: EDIT_EVENT,\n    payload: id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n  window.location = '/user/searchEvent';\n};\nexport const deleteEvent = id => (dispatch, getState) => {\n  axios.delete(`/api/events/${id}`, tokenConfig(getState)).then(res => dispatch({\n    type: DELETE_EVENT,\n    payload: id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const setEventsLoaoding = () => {\n  return {\n    type: EVENTS_LOADING\n  };\n};","map":{"version":3,"sources":["C:/Users/Yassine/Desktop/project/PROJECT/Project1 - Copie/client/src/actions/eventActions.js"],"names":["GET_EVENTS","DELETE_EVENT","ADD_EVENT","EVENTS_LOADING","EDIT_EVENT","axios","tokenConfig","returnErrors","getEvents","dispatch","setEventsLoaoding","get","then","res","type","payload","data","catch","err","response","status","getEvent","id","getEventForHost","addEvent","a","console","log","post","editEvent","sector","governorate","maison_dhote","num","email","website","image","body","put","window","location","deleteEvent","getState","delete"],"mappings":"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","sourcesContent":["import { GET_EVENTS, DELETE_EVENT, ADD_EVENT,EVENTS_LOADING, EDIT_EVENT } from './types';\r\nimport axios from 'axios'\r\nimport {tokenConfig} from './authActions';\r\nimport {returnErrors} from './errorActions'\r\n\r\nexport const getEvents=()=>dispatch=>{\r\n    dispatch(setEventsLoaoding());\r\n    axios\r\n    .get(('/api/events'))\r\n    .then(res=>\r\n        dispatch({\r\n            type:GET_EVENTS,\r\n            payload:res.data\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n}\r\nexport const getEvent=(id)=>dispatch=>{\r\n    dispatch(setEventsLoaoding());\r\n    axios\r\n    .get(`/api/events/update/${id}`)\r\n    .then(res=>\r\n        dispatch({\r\n            type:GET_EVENTS,\r\n            payload:res.id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n}\r\nexport const getEventForHost=(id)=>dispatch=>{\r\n    dispatch(setEventsLoaoding());\r\n    axios\r\n    .get(`/api/events/${id}`)\r\n    .then(res=>\r\n        dispatch({\r\n            type:GET_EVENTS,\r\n            payload:res.id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n}\r\nexport const addEvent=(a)=>dispatch=>{\r\n    console.log(a)\r\n    axios.post('/api/events',a)\r\n    .then(res=>dispatch({\r\n        type:ADD_EVENT,\r\n        payload:res.data\r\n    }))\r\n    .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n    // window.location = '/host';\r\n\r\n};\r\nexport const editEvent=({sector,governorate,maison_dhote,num,email,website,image},id)=>dispatch=>{\r\n    const body =({maison_dhote,sector,num,email,website,governorate,image})\r\n    axios.put(`/api/events/update/${id}`,body).then(res=>\r\n        dispatch({\r\n            type:EDIT_EVENT,\r\n            payload:id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n        window.location = '/user/searchEvent';\r\n};\r\nexport const deleteEvent=(id)=>(dispatch,getState)=>{\r\n    axios.delete(`/api/events/${id}`,tokenConfig(getState)).then(res=>\r\n        dispatch({\r\n            type:DELETE_EVENT,\r\n            payload:id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n\r\n};\r\n\r\n\r\nexport const setEventsLoaoding=()=>{\r\n    return {\r\n        type:EVENTS_LOADING\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}
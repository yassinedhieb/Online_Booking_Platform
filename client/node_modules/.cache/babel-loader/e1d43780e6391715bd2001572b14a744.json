{"ast":null,"code":"import { GET_ITEMS, DELETE_ITEM, ADD_ITEM, ITEMS_LOADING, EDIT_ITEM, FETCH_PRODUCTS, FILTER_PRODUCTS_BY_GOVERNORATE, ORDER_PRODUCTS_BY_PRICE } from './types';\nimport axios from 'axios';\nimport { tokenConfig } from './authActions';\nimport { returnErrors } from './errorActions';\nexport const getItems = () => dispatch => {\n  dispatch(setItemsLoaoding());\n  axios.get('/api/locations').then(res => dispatch({\n    type: GET_ITEMS,\n    payload: res.data\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const getItem = id => dispatch => {\n  dispatch(setItemsLoaoding());\n  axios.get(`/api/locations/update/${id}`).then(res => dispatch({\n    type: GET_ITEMS,\n    payload: res.id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const addItem = ({\n  sector,\n  governorate,\n  maison_dhote,\n  num,\n  email,\n  website,\n  image\n}) => dispatch => {\n  const body = {\n    maison_dhote,\n    sector,\n    num,\n    email,\n    website,\n    governorate,\n    image\n  };\n  console.log(body);\n  axios.post('/api/locations', body).then(res => dispatch({\n    type: ADD_ITEM,\n    payload: res.data\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n  window.location = '/searchItem';\n};\nexport const editItem = ({\n  sector,\n  governorate,\n  maison_dhote,\n  num,\n  email,\n  website,\n  image\n}, id) => dispatch => {\n  const body = {\n    maison_dhote,\n    sector,\n    num,\n    email,\n    website,\n    governorate,\n    image\n  };\n  axios.put(`/api/locations/update/${id}`, body).then(res => dispatch({\n    type: EDIT_ITEM,\n    payload: id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n  window.location = '/user/searchItem';\n};\nexport const deleteItem = id => (dispatch, getState) => {\n  axios.delete(`/api/locations/${id}`, tokenConfig(getState)).then(res => dispatch({\n    type: DELETE_ITEM,\n    payload: id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const setItemsLoaoding = () => {\n  return {\n    type: ITEMS_LOADING\n  };\n}; //Filter\n\nexport const filterProducts = (products, governorate) => dispatch => {\n  dispatch({\n    type: FILTER_PRODUCTS_BY_GOVERNORATE,\n    payload: {\n      governorate: governorate,\n      items: governorate === \"\" ? products : products.filter(x => x.governorate === governorate)\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/Yassine/Desktop/project/PROJECT/Project1 - Copie/client/src/actions/itemActions.js"],"names":["GET_ITEMS","DELETE_ITEM","ADD_ITEM","ITEMS_LOADING","EDIT_ITEM","FETCH_PRODUCTS","FILTER_PRODUCTS_BY_GOVERNORATE","ORDER_PRODUCTS_BY_PRICE","axios","tokenConfig","returnErrors","getItems","dispatch","setItemsLoaoding","get","then","res","type","payload","data","catch","err","response","status","getItem","id","addItem","sector","governorate","maison_dhote","num","email","website","image","body","console","log","post","window","location","editItem","put","deleteItem","getState","delete","filterProducts","products","items","filter","x"],"mappings":"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","sourcesContent":["import { GET_ITEMS, DELETE_ITEM, ADD_ITEM,ITEMS_LOADING, EDIT_ITEM,FETCH_PRODUCTS,\n    FILTER_PRODUCTS_BY_GOVERNORATE,\n    ORDER_PRODUCTS_BY_PRICE } from './types';\nimport axios from 'axios'\nimport {tokenConfig} from './authActions';\nimport {returnErrors} from './errorActions'\n\nexport const getItems=()=>dispatch=>{\n    dispatch(setItemsLoaoding());\n    axios\n    .get(('/api/locations'))\n    .then(res=>\n        dispatch({\n            type:GET_ITEMS,\n            payload:res.data\n        }))\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n}\nexport const getItem=(id)=>dispatch=>{\n    dispatch(setItemsLoaoding());\n    axios\n    .get(`/api/locations/update/${id}`)\n    .then(res=>\n        dispatch({\n            type:GET_ITEMS,\n            payload:res.id\n        }))\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n}\nexport const addItem=({sector,governorate,maison_dhote,num,email,website,image})=>dispatch=>{\n    const body =({maison_dhote,sector,num,email,website,governorate,image})\n    console.log(body)\n    axios.post('/api/locations',body)\n    .then(res=>dispatch({\n        type:ADD_ITEM,\n        payload:res.data\n    }))\n    .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n    window.location = '/searchItem';\n\n};\nexport const editItem=({sector,governorate,maison_dhote,num,email,website,image},id)=>dispatch=>{\n    const body =({maison_dhote,sector,num,email,website,governorate,image})\n    axios.put(`/api/locations/update/${id}`,body).then(res=>\n        dispatch({\n            type:EDIT_ITEM,\n            payload:id\n        }))\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n        window.location = '/user/searchItem';\n};\nexport const deleteItem=(id)=>(dispatch,getState)=>{\n    axios.delete(`/api/locations/${id}`,tokenConfig(getState)).then(res=>\n        dispatch({\n            type:DELETE_ITEM,\n            payload:id\n        }))\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n\n};\n\n\nexport const setItemsLoaoding=()=>{\n    return {\n        type:ITEMS_LOADING\n    };\n};\n//Filter\nexport const filterProducts = (products, governorate) => (dispatch) => {\n    dispatch({\n      type: FILTER_PRODUCTS_BY_GOVERNORATE,\n      payload: {\n        governorate: governorate,\n        items:\n        governorate === \"\"\n            ? products\n            : products.filter(\n                (x) => x.governorate===governorate\n              ),\n      },\n    });\n  };\n  "]},"metadata":{},"sourceType":"module"}
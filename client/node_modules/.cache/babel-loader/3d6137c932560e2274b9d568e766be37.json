{"ast":null,"code":"import { GET_ITEMS, DELETE_ITEM, ADD_ITEM, ITEMS_LOADING, EDIT_ITEM, ADD_MESSAGE } from './types';\nimport axios from 'axios';\nimport { tokenConfig } from './authActions';\nimport { returnErrors } from './errorActions';\nexport const getItems = () => dispatch => {\n  dispatch(setItemsLoaoding());\n  axios.get('/api/locations').then(res => dispatch({\n    type: GET_ITEMS,\n    payload: res.data\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const addMessage = ({\n  name,\n  email,\n  subject,\n  content\n}) => dispatch => {\n  const body = {\n    name,\n    email,\n    subject,\n    content\n  };\n  console.log(body);\n  axios.post('/api/message', body).then(res => dispatch({\n    type: ADD_Message,\n    payload: res.data\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n  window.location = '/';\n};\nexport const editItem = ({\n  sector,\n  governorate,\n  maison_dhote,\n  num,\n  email,\n  website,\n  image\n}, id) => dispatch => {\n  const body = {\n    maison_dhote,\n    sector,\n    num,\n    email,\n    website,\n    governorate,\n    image\n  };\n  axios.put(`/api/locations/update/${id}`, body).then(res => dispatch({\n    type: EDIT_ITEM,\n    payload: id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n  window.location = '/searchItem';\n};\nexport const deleteItem = id => (dispatch, getState) => {\n  axios.delete(`/api/locations/${id}`, tokenConfig(getState)).then(res => dispatch({\n    type: DELETE_ITEM,\n    payload: id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const setItemsLoaoding = () => {\n  return {\n    type: ITEMS_LOADING\n  };\n};","map":{"version":3,"sources":["C:/Users/Yassine/Desktop/project/PROJECT/Project1/client/src/actions/saveMessageActions.js"],"names":["GET_ITEMS","DELETE_ITEM","ADD_ITEM","ITEMS_LOADING","EDIT_ITEM","ADD_MESSAGE","axios","tokenConfig","returnErrors","getItems","dispatch","setItemsLoaoding","get","then","res","type","payload","data","catch","err","response","status","addMessage","name","email","subject","content","body","console","log","post","ADD_Message","window","location","editItem","sector","governorate","maison_dhote","num","website","image","id","put","deleteItem","getState","delete"],"mappings":"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","sourcesContent":["import { GET_ITEMS, DELETE_ITEM, ADD_ITEM,ITEMS_LOADING, EDIT_ITEM,ADD_MESSAGE } from './types';\r\nimport axios from 'axios'\r\nimport {tokenConfig} from './authActions';\r\nimport {returnErrors} from './errorActions'\r\n\r\nexport const getItems=()=>dispatch=>{\r\n    dispatch(setItemsLoaoding());\r\n    axios\r\n    .get(('/api/locations'))\r\n    .then(res=>\r\n        dispatch({\r\n            type:GET_ITEMS,\r\n            payload:res.data\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n}\r\nexport const addMessage=({name,email,subject,content})=>dispatch=>{\r\n    const body =({name,email,subject,content})\r\n    console.log(body)\r\n    axios.post('/api/message',body)\r\n    .then(res=>dispatch({\r\n        type:ADD_Message,\r\n        payload:res.data\r\n    }))\r\n    .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n    window.location = '/';\r\n\r\n};\r\nexport const editItem=({sector,governorate,maison_dhote,num,email,website,image},id)=>dispatch=>{\r\n    const body =({maison_dhote,sector,num,email,website,governorate,image})\r\n    axios.put(`/api/locations/update/${id}`,body).then(res=>\r\n        dispatch({\r\n            type:EDIT_ITEM,\r\n            payload:id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n        window.location = '/searchItem';\r\n};\r\nexport const deleteItem=(id)=>(dispatch,getState)=>{\r\n    axios.delete(`/api/locations/${id}`,tokenConfig(getState)).then(res=>\r\n        dispatch({\r\n            type:DELETE_ITEM,\r\n            payload:id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n\r\n};\r\n\r\n\r\nexport const setItemsLoaoding=()=>{\r\n    return {\r\n        type:ITEMS_LOADING\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { GET_RESERVATIONS, DELETE_RESERVATION, ADD_RESERVATION, RESERVATIONS_LOADING, EDIT_RESERVATION } from './types';\nimport axios from 'axios';\nimport { tokenConfig } from './authActions';\nimport { returnErrors } from './errorActions';\n\nconst setReseravtionsLoaoding = () => {\n  return {\n    type: RESERVATIONS_LOADING\n  };\n};\n\nexport const getReservations = () => dispatch => {\n  // dispatch(setReservationsLoaoding());\n  axios.get('/api/Reservations').then(res => dispatch({\n    type: GET_RESERVATIONS,\n    payload: res.data\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n}; // export const getReservation=(id)=>dispatch=>{\n//     dispatch(setReservationsLoaoding());\n//     axios\n//     .get(`/api/reservations/update/${id}`)\n//     .then(res=>\n//         dispatch({\n//             type:GET_RESERVATIONS,\n//             payload:res.id\n//         }))\n//         .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n// }\n\nexport const getReseravtionForHost = id => dispatch => {\n  dispatch(setReseravtionsLoaoding());\n  axios.get(`/api/reservations/${id}`).then(res => dispatch({\n    type: GET_RESERVATIONS,\n    payload: res.id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n}; // export const addReservation=(a)=>dispatch=>{\n//     console.log(a)\n//     axios.post('/api/reservations',a)\n//     .then(res=>dispatch({\n//         type:ADD_RESERVATION,\n//         payload:res.data\n//     }))\n//     .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n//     // window.location = '/host';\n// };\n// export const editReservation=({sector,governorate,maison_dhote,num,email,website,image},id)=>dispatch=>{\n//     const body =({maison_dhote,sector,num,email,website,governorate,image})\n//     axios.put(`/api/reservations/update/${id}`,body).then(res=>\n//         dispatch({\n//             type:EDIT_RESERVATION,\n//             payload:id\n//         }))\n//         .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\n//         window.location = '/user/searchReservation';\n// };\n\nexport const deleteReservation = id => (dispatch, getState) => {\n  axios.delete(`/api/reservations/${id}`, tokenConfig(getState)).then(res => dispatch({\n    type: DELETE_RESERVATION,\n    payload: id\n  })).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};","map":{"version":3,"sources":["C:/Users/Yassine/Desktop/project/PROJECT/Project1 - Copie/client/src/actions/reservationsActions.js"],"names":["GET_RESERVATIONS","DELETE_RESERVATION","ADD_RESERVATION","RESERVATIONS_LOADING","EDIT_RESERVATION","axios","tokenConfig","returnErrors","setReseravtionsLoaoding","type","getReservations","dispatch","get","then","res","payload","data","catch","err","response","status","getReseravtionForHost","id","deleteReservation","getState","delete"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,kBAA3B,EAA+CC,eAA/C,EAA+DC,oBAA/D,EAAqFC,gBAArF,QAA6G,SAA7G;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,eAA1B;AACA,SAAQC,YAAR,QAA2B,gBAA3B;;AAEA,MAAMC,uBAAuB,GAAC,MAAI;AAC9B,SAAO;AACHC,IAAAA,IAAI,EAACN;AADF,GAAP;AAGH,CAJD;;AAMA,OAAO,MAAMO,eAAe,GAAC,MAAIC,QAAQ,IAAE;AACvC;AACAN,EAAAA,KAAK,CACJO,GADD,CACM,mBADN,EAECC,IAFD,CAEMC,GAAG,IACLH,QAAQ,CAAC;AACLF,IAAAA,IAAI,EAACT,gBADA;AAELe,IAAAA,OAAO,EAACD,GAAG,CAACE;AAFP,GAAD,CAHZ,EAOKC,KAPL,CAOWC,GAAG,IAAEP,QAAQ,CAACJ,YAAY,CAACW,GAAG,CAACC,QAAJ,CAAaH,IAAd,EAAmBE,GAAG,CAACC,QAAJ,CAAaC,MAAhC,CAAb,CAPxB;AAQH,CAVM,C,CAWP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,qBAAqB,GAAEC,EAAD,IAAMX,QAAQ,IAAE;AAC/CA,EAAAA,QAAQ,CAACH,uBAAuB,EAAxB,CAAR;AACAH,EAAAA,KAAK,CACJO,GADD,CACM,qBAAoBU,EAAG,EAD7B,EAECT,IAFD,CAEMC,GAAG,IACLH,QAAQ,CAAC;AACLF,IAAAA,IAAI,EAACT,gBADA;AAELe,IAAAA,OAAO,EAACD,GAAG,CAACQ;AAFP,GAAD,CAHZ,EAOKL,KAPL,CAOWC,GAAG,IAAEP,QAAQ,CAACJ,YAAY,CAACW,GAAG,CAACC,QAAJ,CAAaH,IAAd,EAAmBE,GAAG,CAACC,QAAJ,CAAaC,MAAhC,CAAb,CAPxB;AAQH,CAVM,C,CAWP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMG,iBAAiB,GAAED,EAAD,IAAM,CAACX,QAAD,EAAUa,QAAV,KAAqB;AACtDnB,EAAAA,KAAK,CAACoB,MAAN,CAAc,qBAAoBH,EAAG,EAArC,EAAuChB,WAAW,CAACkB,QAAD,CAAlD,EAA8DX,IAA9D,CAAmEC,GAAG,IAClEH,QAAQ,CAAC;AACLF,IAAAA,IAAI,EAACR,kBADA;AAELc,IAAAA,OAAO,EAACO;AAFH,GAAD,CADZ,EAKKL,KALL,CAKWC,GAAG,IAAEP,QAAQ,CAACJ,YAAY,CAACW,GAAG,CAACC,QAAJ,CAAaH,IAAd,EAAmBE,GAAG,CAACC,QAAJ,CAAaC,MAAhC,CAAb,CALxB;AAOH,CARM","sourcesContent":["import { GET_RESERVATIONS, DELETE_RESERVATION, ADD_RESERVATION,RESERVATIONS_LOADING, EDIT_RESERVATION } from './types';\r\nimport axios from 'axios'\r\nimport {tokenConfig} from './authActions';\r\nimport {returnErrors} from './errorActions';\r\n\r\nconst setReseravtionsLoaoding=()=>{\r\n    return {\r\n        type:RESERVATIONS_LOADING\r\n    };\r\n};\r\n\r\nexport const getReservations=()=>dispatch=>{\r\n    // dispatch(setReservationsLoaoding());\r\n    axios\r\n    .get(('/api/Reservations'))\r\n    .then(res=>\r\n        dispatch({\r\n            type:GET_RESERVATIONS,\r\n            payload:res.data\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n}\r\n// export const getReservation=(id)=>dispatch=>{\r\n//     dispatch(setReservationsLoaoding());\r\n//     axios\r\n//     .get(`/api/reservations/update/${id}`)\r\n//     .then(res=>\r\n//         dispatch({\r\n//             type:GET_RESERVATIONS,\r\n//             payload:res.id\r\n//         }))\r\n//         .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n// }\r\nexport const getReseravtionForHost=(id)=>dispatch=>{\r\n    dispatch(setReseravtionsLoaoding());\r\n    axios\r\n    .get(`/api/reservations/${id}`)\r\n    .then(res=>\r\n        dispatch({\r\n            type:GET_RESERVATIONS,\r\n            payload:res.id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n}\r\n// export const addReservation=(a)=>dispatch=>{\r\n//     console.log(a)\r\n//     axios.post('/api/reservations',a)\r\n//     .then(res=>dispatch({\r\n//         type:ADD_RESERVATION,\r\n//         payload:res.data\r\n//     }))\r\n//     .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n//     // window.location = '/host';\r\n\r\n// };\r\n// export const editReservation=({sector,governorate,maison_dhote,num,email,website,image},id)=>dispatch=>{\r\n//     const body =({maison_dhote,sector,num,email,website,governorate,image})\r\n//     axios.put(`/api/reservations/update/${id}`,body).then(res=>\r\n//         dispatch({\r\n//             type:EDIT_RESERVATION,\r\n//             payload:id\r\n//         }))\r\n//         .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n//         window.location = '/user/searchReservation';\r\n// };\r\nexport const deleteReservation=(id)=>(dispatch,getState)=>{\r\n    axios.delete(`/api/reservations/${id}`,tokenConfig(getState)).then(res=>\r\n        dispatch({\r\n            type:DELETE_RESERVATION,\r\n            payload:id\r\n        }))\r\n        .catch(err=>dispatch(returnErrors(err.response.data,err.response.status)))\r\n\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yassine\\\\Desktop\\\\project\\\\PROJECT\\\\Project1 - Copie\\\\client\\\\src\\\\components\\\\NewHost\\\\NewHost.js\";\nimport React from \"react\";\nimport { MDBRow, MDBCol, MDBInput, MDBBtn, Container, MDBContainer, MDBCard, MDBAlert } from \"mdbreact\";\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { registerHost } from '../actions/authActions';\nimport { clearErrors } from '../actions/errorActions';\n\nclass NewHost extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      last_name: \"\",\n      email: \"\",\n      city: \"\",\n      password: \"\",\n      ref: this.props.match.params.id\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault(); //  const {name,email,password}=this.state;\n      //create user object\n\n      const newHost = {\n        name: this.state.name,\n        last_name: this.state.last_name,\n        city: this.state.city,\n        email: this.state.email,\n        password: this.state.password,\n        ref: this.state.ref,\n        role: \"client\"\n      };\n      console.log(newHost);\n      this.props.registerHost(newHost);\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error,\n      isAuthHost\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      //check for register error\n      if (error.id === 'HOST_REGISTER_FAIL') {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n\n    if (isAuthHost) {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(MDBContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, this.state.msg ? /*#__PURE__*/React.createElement(MDBAlert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 28\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"needs-validation\",\n      onSubmit: this.onSubmit,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      icon: \"user\",\n      value: this.state.fname,\n      name: \"name\",\n      onChange: this.onChange,\n      type: \"text\",\n      id: \"materialFormRegisterNameEx\",\n      label: \"First name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"valid-feedback ml-4 pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"Looks good!\"))), /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      icon: \"address-card\",\n      value: this.state.lname,\n      name: \"last_name\",\n      onChange: this.onChange,\n      type: \"text\",\n      id: \"materialFormRegisterEmailEx2\",\n      label: \"Last name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"valid-feedback ml-4 pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, \"Looks good!\"))), /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      icon: \"envelope-open\",\n      value: this.state.email,\n      onChange: this.onChange,\n      type: \"email\",\n      id: \"materialFormRegisterConfirmEx3\",\n      name: \"email\",\n      label: \"Your Email address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      id: \"emailHelp\",\n      className: \"form-text text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"We'll never share your email with anyone else.\")))), /*#__PURE__*/React.createElement(MDBRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      icon: \"city\",\n      value: this.state.city,\n      onChange: this.onChange,\n      type: \"text\",\n      id: \"materialFormRegisterPasswordEx4\",\n      name: \"city\",\n      label: \"City\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invalid-feedback ml-4 pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Please provide a valid city.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"valid-feedback ml-4 pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"Looks good!\"))), /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      value: this.state.password,\n      icon: \"lock\",\n      type: \"password\",\n      name: \"password\",\n      onChange: this.onChange,\n      id: \"materialFormRegisterEmailEx2\",\n      label: \"Password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invalid-feedback ml-4 pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, \"Please provide a valid state.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"valid-feedback ml-4 pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, \"Looks good!\")))), /*#__PURE__*/React.createElement(MDBRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      type: \"checkbox\",\n      value: \"conditions\",\n      id: \"materialInvalidCheck\",\n      required: true,\n      label: \"Agree to terms and conditions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, \"You must agree before submitting.\"))), /*#__PURE__*/React.createElement(MDBBtn, {\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, \"Submit Form\")));\n  }\n\n}\n\nNewHost.propTypes = {\n  isAuthHost: PropTypes.bool,\n  error: PropTypes.object.isRequired,\n  registerHost: PropTypes.func.isRequired,\n  clearErrors: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  isAuthHost: state.auth.isAuthHost,\n  error: state.error\n});\n\nexport default connect(mapStateToProps, {\n  registerHost,\n  clearErrors\n})(NewHost);","map":{"version":3,"sources":["C:/Users/Yassine/Desktop/project/PROJECT/Project1 - Copie/client/src/components/NewHost/NewHost.js"],"names":["React","MDBRow","MDBCol","MDBInput","MDBBtn","Container","MDBContainer","MDBCard","MDBAlert","connect","PropTypes","registerHost","clearErrors","NewHost","Component","state","name","last_name","email","city","password","ref","props","match","params","id","onChange","e","setState","target","value","onSubmit","preventDefault","newHost","role","console","log","componentDidUpdate","prevProps","error","isAuthHost","msg","history","push","render","fname","lname","propTypes","bool","object","isRequired","func","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { MDBRow, MDBCol, MDBInput, MDBBtn,Container,MDBContainer,MDBCard,MDBAlert } from \"mdbreact\";\r\n\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport {registerHost} from '../actions/authActions';\r\nimport{clearErrors} from '../actions/errorActions';\r\n\r\n\r\nclass NewHost extends React.Component {\r\n  state = {\r\n    name: \"\",\r\n    last_name: \"\",\r\n    email: \"\",\r\n    city: \"\",\r\n    password: \"\",\r\n    ref : this.props.match.params.id\r\n  };\r\n      static propTypes={\r\n        isAuthHost:PropTypes.bool,\r\n        error:PropTypes.object.isRequired,\r\n        registerHost:PropTypes.func.isRequired,\r\n        clearErrors:PropTypes.func.isRequired\r\n    };\r\n\r\n  componentDidUpdate(prevProps){\r\n      const {error,isAuthHost} = this.props;\r\n      if(error!==prevProps.error){\r\n          //check for register error\r\n          if(error.id==='HOST_REGISTER_FAIL'){\r\n              this.setState({msg:error.msg.msg})\r\n          } else{\r\n              this.setState({msg:null})\r\n          }\r\n      }\r\n      if(isAuthHost){\r\n        this.props.history.push('/')\r\n    }\r\n  }\r\n\r\n   ;\r\n   onChange=(e)=>{\r\n       this.setState({[e.target.name]:e.target.value})\r\n   }\r\n   onSubmit=(e)=>{\r\n       e.preventDefault();\r\n      //  const {name,email,password}=this.state;\r\n\r\n       //create user object\r\n       const newHost={\r\n           name:this.state.name,\r\n           last_name:this.state.last_name,\r\n           city:this.state.city,\r\n           email:this.state.email,\r\n           password:this.state.password,\r\n           ref:this.state.ref,\r\n           role:\"client\"\r\n       }\r\n       console.log(newHost)\r\n       this.props.registerHost(newHost);\r\n   };\r\n\r\n  render() {\r\n    return (\r\n      \r\n      <MDBContainer>\r\n        {this.state.msg ? (<MDBAlert color='danger'>{this.state.msg}</MDBAlert>):null}\r\n          <form\r\n          className='needs-validation'\r\n          onSubmit={this.onSubmit}\r\n          noValidate\r\n        >\r\n          <MDBRow>\r\n            <MDBCol md='4'>\r\n              <MDBInput\r\n                icon='user'\r\n                value={this.state.fname}\r\n                name='name'\r\n                onChange={this.onChange}\r\n                type='text'\r\n                id='materialFormRegisterNameEx'\r\n                label='First name'\r\n                required\r\n              >\r\n                <div className='valid-feedback ml-4 pl-3'>Looks good!</div>\r\n              </MDBInput>\r\n            </MDBCol>\r\n            <MDBCol md='4'>\r\n              <MDBInput\r\n                icon='address-card'\r\n                value={this.state.lname}\r\n                name='last_name'\r\n                onChange={this.onChange}\r\n                type='text'\r\n                id='materialFormRegisterEmailEx2'\r\n                label='Last name'\r\n                required\r\n              >\r\n                <div className='valid-feedback ml-4 pl-3'>Looks good!</div>\r\n              </MDBInput>\r\n            </MDBCol>\r\n            <MDBCol md='4'>\r\n              <MDBInput\r\n                icon='envelope-open'\r\n                value={this.state.email}\r\n                onChange={this.onChange}\r\n                type='email'\r\n                id='materialFormRegisterConfirmEx3'\r\n                name='email'\r\n                label='Your Email address'\r\n              >\r\n                <small id='emailHelp' className='form-text text-muted'>\r\n                  We'll never share your email with anyone else.\r\n                </small>\r\n              </MDBInput>\r\n            </MDBCol>\r\n          </MDBRow>\r\n          <MDBRow>\r\n            <MDBCol md='4'>\r\n              <MDBInput\r\n                icon='city'\r\n                value={this.state.city}\r\n                onChange={this.onChange}\r\n                type='text'\r\n                id='materialFormRegisterPasswordEx4'\r\n                name='city'\r\n                label='City'\r\n                required\r\n              >\r\n                <div className='invalid-feedback ml-4 pl-3'>\r\n                  Please provide a valid city.\r\n                </div>\r\n                <div className='valid-feedback ml-4 pl-3'>Looks good!</div>\r\n              </MDBInput>\r\n            </MDBCol>\r\n            <MDBCol md='4'>\r\n              <MDBInput\r\n                  value={this.state.password}\r\n                  icon=\"lock\"\r\n                  type='password'\r\n                  name='password'\r\n                  onChange={this.onChange}\r\n                  id='materialFormRegisterEmailEx2'\r\n                  label='Password'\r\n                  required\r\n                >\r\n                <div className='invalid-feedback ml-4 pl-3'>\r\n                  Please provide a valid state.\r\n                </div>\r\n                <div className='valid-feedback ml-4 pl-3'>Looks good!</div>\r\n              </MDBInput>\r\n            </MDBCol>\r\n          </MDBRow>\r\n          <MDBRow>\r\n            <MDBInput\r\n              type='checkbox'\r\n              value='conditions'\r\n              id='materialInvalidCheck'\r\n              required\r\n              label='Agree to terms and conditions'\r\n            >\r\n              <div className='invalid-feedback'>\r\n                You must agree before submitting.\r\n              </div>\r\n            </MDBInput>\r\n          </MDBRow>\r\n          <MDBBtn color='primary' type='submit'>\r\n            Submit Form\r\n          </MDBBtn>\r\n        </form>\r\n        </MDBContainer>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps=state=>({\r\n  isAuthHost:state.auth.isAuthHost,\r\n  error:state.error    \r\n})\r\n\r\n\r\nexport default connect(mapStateToProps,{registerHost,clearErrors})(NewHost)"]},"metadata":{},"sourceType":"module"}